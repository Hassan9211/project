<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hill Climb Car Game</title>

<style>
body {
    margin: 0;
    background: #020617;
    overflow: hidden;
    font-family: Arial, sans-serif;
}

#info {
    position: absolute;
    top: 10px;
    width: 100%;
    text-align: center;
    color: white;
    font-weight: bold;
    z-index: 10;
}

canvas {
    display: block;
}
</style>
</head>

<body>

<div id="info">
â¬… / A = Brake | âž¡ / D = Accelerate | â¬† / W = Boost | â¬‡ / S = Hard Brake ðŸš—
</div>

<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// ---------------- CAR ----------------
let car = {
    x: 150,
    speed: 0,
    accel: 0.2,
    boost: 0.35,
    maxSpeed: 7,
    friction: 0.04,
    wheelAngle: 0
};

// ---------------- HILL ----------------
function hill(x) {
    return canvas.height * 0.65 - Math.sin(x * 0.01) * 140;
}

function slope(x) {
    return Math.cos(x * 0.01);
}

// ---------------- DRAW TRACK ----------------
function drawHill() {
    ctx.beginPath();
    ctx.moveTo(0, canvas.height);
    for (let x = 0; x <= canvas.width; x++) {
        ctx.lineTo(x, hill(x));
    }
    ctx.lineTo(canvas.width, canvas.height);
    ctx.closePath();
    ctx.fillStyle = "#065f46";
    ctx.fill();
}

// ---------------- DRAW CAR ----------------
function drawCar() {
    const groundY = hill(car.x);

    // Body
    ctx.fillStyle = "red";
    ctx.fillRect(car.x - 30, groundY - 45, 70, 22);

    ctx.fillStyle = "#991b1b";
    ctx.fillRect(car.x - 10, groundY - 65, 35, 20);

    // Wheels
    drawWheel(car.x - 10, groundY - 15);
    drawWheel(car.x + 25, groundY - 15);
}

function drawWheel(x, y) {
    ctx.save();
    ctx.translate(x, y);
    ctx.rotate(car.wheelAngle);
    ctx.fillStyle = "black";
    ctx.beginPath();
    ctx.arc(0, 0, 11, 0, Math.PI * 2);
    ctx.fill();
    ctx.strokeStyle = "white";
    ctx.beginPath();
    ctx.moveTo(0, 0);
    ctx.lineTo(11, 0);
    ctx.stroke();
    ctx.restore();
}

// ---------------- INPUT ----------------
let keys = {};
document.addEventListener("keydown", e => keys[e.key.toLowerCase()] = true);
document.addEventListener("keyup", e => keys[e.key.toLowerCase()] = false);

// ---------------- UPDATE ----------------
function update() {
    // Accelerate
    if (keys["arrowright"] || keys["d"]) {
        car.speed += car.accel;
    }

    // Reverse / Brake
    if (keys["arrowleft"] || keys["a"]) {
        car.speed -= car.accel;
    }

    // Boost
    if (keys["arrowup"] || keys["w"]) {
        car.speed += car.boost;
    }

    // Hard brake
    if (keys["arrowdown"] || keys["s"]) {
        car.speed *= 0.85;
    }

    // Hill gravity
    car.speed -= slope(car.x) * 0.12;

    // Friction
    car.speed *= (1 - car.friction);

    // Speed limits
    car.speed = Math.max(-car.maxSpeed, Math.min(car.speed, car.maxSpeed));

    car.x += car.speed;
    car.wheelAngle += car.speed * 0.12;

    // Boundaries
    if (car.x < 50) {
        car.x = 50;
        car.speed = 0;
    }
    if (car.x > canvas.width - 50) {
        car.x = canvas.width - 50;
        car.speed = 0;
    }
}

// ---------------- GAME LOOP ----------------
function loop() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    drawHill();
    update();
    drawCar();
    requestAnimationFrame(loop);
}

loop();
</script>

</body>
</html>
